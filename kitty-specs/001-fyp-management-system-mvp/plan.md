# Implementation Plan: FYP Management System - MVP

**Feature**: 001-fyp-management-system-mvp  
**Branch**: `001-fyp-management-system-mvp` | **Date**: 2026-02-02  
**Spec**: [spec.md](spec.md)

---

## Summary

Build a web-based Final Year Project (FYP) Management System with separate backend and frontend repositories. The MVP establishes core infrastructure for student-supervisor topic matching, document submission tracking, and real-time status monitoring, replacing manual Excel-based processes.

**Core MVP Capabilities**:
1. User authentication (email/password) with role-based access (Student, Supervisor, Admin)
2. Topic discovery with full-list display and inline filtering
3. Student-supervisor matching via applications and approvals
4. Multi-phase document submissions with status tracking and declarations
5. Role-specific dashboards (Student, Supervisor, Admin)
6. Complete audit logging for compliance

**Key Design Decisions**:
- **Separate Repositories**: Independent backend and frontend for clear separation of concerns
- **Modular Architecture**: Express.js with router-based structure; Vue 3 with composition API
- **Database**: MongoDB with Mongoose ODM for schema validation
- **Security**: JWT tokens (24h expiry) with bcrypt password hashing (10 rounds)
- **API**: RESTful design with `/api/v1/` versioning

## Technical Context

**Backend Stack**:
- **Language**: Node.js (latest LTS)
- **Framework**: Express.js with modular router structure
- **Database**: MongoDB Atlas or local MongoDB
- **ODM**: Mongoose with schema validation
- **Authentication**: JWT tokens (24h expiry) + bcrypt (10 rounds)
- **API Format**: RESTful with `/api/v1/` versioning
- **Error Format**: `{ error: string, code?: string }`
- **Testing**: Jest + Supertest for unit and integration tests

**Frontend Stack**:
- **Language**: JavaScript/TypeScript
- **Framework**: Vue 3 with Composition API
- **Build Tool**: Vite
- **Routing**: Vue Router
- **State Management**: Pinia
- **HTTP Client**: Axios
- **Styling**: CSS with scoped styles (no CSS framework)
- **Testing**: Vitest + Vue Test Utils for unit tests

**E2E Testing**: Playwright for cross-browser end-to-end testing

**Project Structure**: Separate repositories (frontend and backend in different repos)

**Performance Goals**: 
- Dashboard page load < 3 seconds
- API responses < 200ms (p95)
- Support concurrent users (min. 100 simultaneous sessions)

**Constraints**:
- No hard blocking for document submissions (soft warnings only)
- JWT token expiry: 24 hours
- File upload limit: 50MB per file
- Role-based access control (3 roles: Student, Supervisor, Admin)

## Constitution Check

*GATE: Must pass before Phase 0 research. Re-check after Phase 1 design.*

**Constitution Reference**: [.kittify/memory/constitution.md](../../.kittify/memory/constitution.md)

### Technical Standards Alignment

✅ **Languages & Frameworks Match**:
- Constitution requires: Node.js/Express.js backend, Vue.js 3 frontend, MongoDB with Mongoose
- Plan specifies: Express.js + Vue 3 + Composition API + Mongoose + Vite ✓

✅ **Testing Requirements Met**:
- Constitution requires: 80% code coverage, Jest, Vitest, Playwright
- Plan specifies: Jest+Supertest (backend), Vitest+Vue Test Utils (frontend), Playwright (E2E) ✓

✅ **Code Quality Standards Applied**:
- Constitution requires: ESLint + Prettier for code style
- Plan includes: Style requirements (scoped CSS, modular structure) ✓
- **ACTION**: ESLint/Prettier configuration files to be created in setup phase

✅ **Security Requirements Met**:
- Constitution requires: JWT authentication, input validation, bcrypt passwords
- Plan specifies: JWT (24h expiry), bcrypt (10 rounds), Mongoose schema validation ✓

✅ **API Design Compliance**:
- Constitution requires: RESTful design with consistent error handling
- Plan specifies: `/api/v1/` versioning, standard error format `{ error, code? }` ✓

### Gates Evaluation

**All gates PASSED**. Implementation plan aligns with project constitution.

## Project Structure

### Documentation (this feature)

```
kitty-specs/001-fyp-management-system-mvp/
├── spec.md              # Feature specification (COMPLETE)
├── plan.md              # This file (implementation plan)
├── checklists/
│   └── requirements.md  # Specification quality validation
├── research/            # Research tasks (Phase 0 - generated by plan)
├── data-model.md        # Entity and database design (Phase 1)
├── contracts/           # API endpoint contracts (Phase 1)
├── quickstart.md        # Developer setup guide (Phase 1)
└── tasks/               # Work package tasks (Phase 2 - NOT created by /spec-kitty.plan)
```

### Backend Repository Structure

```
fyp-management-backend/
├── src/
│   ├── middleware/           # Auth, error handling, validation
│   │   ├── auth.js          # JWT verification
│   │   ├── errorHandler.js
│   │   └── validation.js
│   ├── models/              # Mongoose schemas
│   │   ├── User.js
│   │   ├── Topic.js
│   │   ├── Application.js
│   │   ├── Assignment.js
│   │   ├── Submission.js
│   │   ├── Feedback.js
│   │   └── ActivityLog.js
│   ├── routes/              # Express routers
│   │   ├── auth.js
│   │   ├── topics.js
│   │   ├── applications.js
│   │   ├── submissions.js
│   │   ├── feedback.js
│   │   ├── users.js
│   │   └── admin.js
│   ├── controllers/         # Business logic
│   │   ├── authController.js
│   │   ├── topicController.js
│   │   ├── applicationController.js
│   │   ├── submissionController.js
│   │   ├── feedbackController.js
│   │   └── adminController.js
│   ├── services/            # Reusable logic
│   │   ├── authService.js
│   │   ├── emailService.js  # For future email notifications
│   │   └── fileService.js
│   ├── utils/
│   │   ├── logger.js
│   │   ├── constants.js
│   │   └── helpers.js
│   ├── config/
│   │   ├── database.js
│   │   ├── jwt.js
│   │   └── env.js
│   └── app.js               # Express app initialization
├── tests/
│   ├── unit/                # Unit tests
│   ├── integration/         # Integration tests with DB
│   └── contract/            # API contract tests
├── .env.example
├── package.json
├── jest.config.js
├── .eslintrc.js
├── .prettierrc
└── README.md
```

### Frontend Repository Structure

```
fyp-management-frontend/
├── src/
│   ├── components/
│   │   ├── Auth/
│   │   │   ├── LoginForm.vue
│   │   │   └── RegisterForm.vue
│   │   ├── Topics/
│   │   │   ├── TopicList.vue
│   │   │   ├── TopicFilter.vue
│   │   │   ├── TopicDetail.vue
│   │   │   └── TopicApply.vue
│   │   ├── Submissions/
│   │   │   ├── SubmissionPhase.vue
│   │   │   ├── SubmissionForm.vue
│   │   │   ├── SubmissionStatus.vue
│   │   │   └── DeclarationForm.vue
│   │   ├── Dashboard/
│   │   │   ├── StudentDashboard.vue
│   │   │   ├── SupervisorDashboard.vue
│   │   │   └── AdminDashboard.vue
│   │   ├── Feedback/
│   │   │   ├── FeedbackView.vue
│   │   │   └── FeedbackForm.vue
│   │   └── Common/
│   │       ├── Navbar.vue
│   │       ├── Sidebar.vue
│   │       └── StatusBadge.vue
│   ├── pages/
│   │   ├── LoginPage.vue
│   │   ├── TopicDiscoveryPage.vue
│   │   ├── SubmissionsPage.vue
│   │   ├── DashboardPage.vue
│   │   ├── TopicArchivePage.vue
│   │   └── NotFoundPage.vue
│   ├── services/
│   │   ├── api/              # Axios API client
│   │   │   ├── authApi.js
│   │   │   ├── topicApi.js
│   │   │   ├── applicationApi.js
│   │   │   ├── submissionApi.js
│   │   │   ├── feedbackApi.js
│   │   │   └── userApi.js
│   │   └── storage/
│   │       └── authStorage.js
│   ├── stores/               # Pinia stores
│   │   ├── authStore.js      # User auth state
│   │   ├── topicStore.js
│   │   ├── applicationStore.js
│   │   ├── submissionStore.js
│   │   └── uiStore.js
│   ├── router/
│   │   ├── index.js          # Router configuration
│   │   └── guards.js         # Auth guards
│   ├── styles/
│   │   ├── main.css          # Global styles
│   │   └── variables.css     # CSS variables
│   ├── App.vue
│   └── main.js
├── tests/
│   ├── unit/                 # Component unit tests
│   ├── integration/          # Store/API integration tests
│   └── e2e/                  # Playwright E2E tests
├── vite.config.js
├── vitest.config.js
├── .env.example
├── package.json
├── .eslintrc.js
├── .prettierrc
└── README.md
```

**Structure Decision**: Separate repositories for backend and frontend provide independent versioning, deployment, and development workflows. Each repository follows a modular, feature-oriented structure.

## Planning Phases

### Phase 0: Research & Clarifications

**Status**: READY TO EXECUTE

**Research Tasks**:
1. MongoDB connection pooling best practices (MongoClient configuration)
2. Mongoose schema validation patterns for file uploads and document metadata
3. JWT token refresh strategy (24h expiry with optional refresh tokens)
4. Express.js middleware ordering and error handling patterns
5. Vue 3 Composition API patterns for form validation and API integration
6. Pinia store architecture for role-based feature visibility
7. Playwright test automation best practices for authentication flows
8. File upload security validation (MIME types, size limits, virus scanning)

**Research Output**: [research.md](research/) (to be generated)

### Phase 1: Design & Contracts

**Prerequisites**: Research tasks complete

**Deliverables**:

1. **[data-model.md](data-model.md)**: Entity relationships and MongoDB schema design
   - User (with password hashing at DB level)
   - Topic (with supervisor references)
   - Application (student preferences and approval workflow)
   - Assignment (student-supervisor-topic binding)
   - Submission (phase tracking with file storage)
   - Feedback (supervisor feedback with timestamps)
   - ActivityLog (immutable audit trail)

2. **[contracts/](contracts/)**: API endpoint specifications
   - `/api/v1/auth/*` - Login, logout, token refresh
   - `/api/v1/topics/*` - Publish, list, search, filter, detail
   - `/api/v1/applications/*` - Apply, review, approve, reject
   - `/api/v1/submissions/*` - Upload, status, resubmit
   - `/api/v1/feedback/*` - Add, view feedback
   - `/api/v1/users/*` - Profile, preferences
   - `/api/v1/admin/*` - Dashboard data, bulk operations
   
3. **[quickstart.md](quickstart.md)**: Developer setup guide
   - Backend setup (Node.js, MongoDB connection, environment variables)
   - Frontend setup (Node.js, npm/yarn, dev server)
   - Running tests locally
   - API documentation reference

**Output**: Complete data model, API contracts, and developer documentation

---

## Complexity Tracking

No Constitution Check violations. All technical decisions aligned with project standards.